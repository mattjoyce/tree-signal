services:
  tree-signal:
    build: .
    container_name: tree-signal
    ports:
      - "8013:8013"  # API server
      - "8014:8014"  # Web client
    restart: unless-stopped
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      # Mount appdata directory for configuration and future data persistence
      - /mnt/user/appdata/tree-signal:/app/data
    networks:
      - tree-signal-net
    labels:
      - "com.docker.compose.project=tree-signal"

networks:
  tree-signal-net:
    driver: bridge
