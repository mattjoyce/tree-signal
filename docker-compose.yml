services:
  tree-signal:
    build: .
    container_name: tree-signal
    ports:
      - "8000:8000"  # API server
      - "8001:8001"  # Web client
    restart: unless-stopped
    environment:
      - PYTHONUNBUFFERED=1
    volumes:
      # Optional: mount a config directory for future configuration files
      - ./config:/app/config:ro
    networks:
      - tree-signal-net
    labels:
      - "com.docker.compose.project=tree-signal"

networks:
  tree-signal-net:
    driver: bridge
